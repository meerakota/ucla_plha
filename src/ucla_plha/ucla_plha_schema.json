{
    "$schema": "http://json-schema.org/draft-04/schema",
    "id": "resource:/schemas/ucla_plha_schema.json",
    "type": "object",
    "required": [
        "site",
        "source_models",
        "ground_motion_models",
        "output"
    ],
    "properties": {
        "site": {
            "type": "object",
            "properties": {
                "latitude": {
                    "type": "number"
                },
                "longitude": {
                    "type": "number"
                },
                "elevation": {
                    "type": "number"
                },
                "vs30": {
                    "type": "number" 
                },
                "measured_vs30": { 
                    "type": "boolean" 
                },
                "z1p0": {
                    "type": "number" 
                },
                "z2p5": { 
                    "type": "number" 
                }
            },
            "additionalProperties": true,
            "required": [
                "latitude",
                "longitude",
                "elevation",
                "vs30"
            ]
        },
        "constraints": {
            "type": "object",
            "properties": {
                "dist_cutoff": { 
                    "type": "number" 
                },
                "m_min": {
                    "type": "number" 
                }
        },
            "additionalProperties": false
        }, 
        "source_models": {
            "type": "object",
            "properties": {
                "fault_source_models": {
                    "type": "object",
                    "properties": {
                        "ucerf3_fm31": {
                            "type": "object",
                            "properties": {
                                "weight": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "weight"
                            ],
                            "additionalProperties": false
                        },
                        "ucerf3_fm32": {
                            "type": "object",
                            "properties": {
                                "weight": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "weight"
                            ],
                            "additionalProperties": false
                        }
                    }
                },
                "point_source_models": {
                    "type": "object",
                    "properties": {
                        "ucerf3_fm31_grid_sub_seis": {
                            "type": "object",
                            "properties": {
                                "weight": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "weight"
                            ],
                            "additionalProperties": false
                        },
                        "ucerf3_fm31_grid_unassociated": {
                            "type": "object",
                            "properties": {
                                "weight": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "weight"
                            ],
                            "additionalProperties": false
                        },
                        "ucerf3_fm32_grid_sub_seis": {
                            "type": "object",
                            "properties": {
                                "weight": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "weight"
                            ],
                            "additionalProperties": false
                        },
                        "ucerf3_fm32_grid_unassociated": {
                            "type": "object",
                            "properties": {
                                "weight": {
                                    "type": "number"
                                }
                            },
                            "required": [
                                "weight"
                            ],
                            "additionalProperties": false
                        }
                    }
                }
            },
            "additionalProperties": false
        },
        "ground_motion_models": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "bssa14": {
                    "type": "object",
                    "properties": {
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "cy14": {
                    "type": "object",
                    "properties": {
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "cb14": {
                    "type": "object",
                    "properties": {
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "ask14": {
                    "type": "object",
                    "properties": {
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "weight"
                    ],
                    "additionalProperties": false
                }
            }
        },
        "liquefaction_models": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "boulanger_idriss_2012": {
                    "type": "object",
                    "properties": {
                        "n160": {
                            "type": "number"
                        },
                        "fc": {
                            "type": "number"
                        },
                        "sigmav": {
                            "type": "number"
                        },
                        "sigmavp": {
                            "type": "number"
                        },
                        "depth": {
                            "type": "number"
                        },
                        "pa": {
                            "type": "number"
                        },
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "n160",
                        "fc",
                        "sigmav",
                        "sigmavp",
                        "depth",
                        "pa",
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "boulanger_idriss_2016": {
                    "type": "object",
                    "properties": {
                        "qc1Ncs": {
                            "type": "number"
                        },
                        "sigmav": {
                            "type": "number"
                        },
                        "sigmavp": {
                            "type": "number"
                        },
                        "depth": {
                            "type": "number"
                        },
                        "pa": {
                            "type": "number"
                        },
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "qc1Ncs",
                        "sigmav",
                        "sigmavp",
                        "depth",
                        "pa",
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "cetin_et_al_2018": {
                    "type": "object",
                    "properties": {
                        "n160": {
                            "type": "number"
                        },
                        "fc": {
                            "type": "number"
                        },
                        "vs12": {
                            "type": "number"
                        },
                        "sigmav": {
                            "type": "number"
                        },
                        "sigmavp": {
                            "type": "number"
                        },
                        "depth": {
                            "type": "number"
                        },
                        "pa": {
                            "type": "number"
                        },
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "n160",
                        "fc",
                        "vs12",
                        "sigmav",
                        "sigmavp",
                        "depth",
                        "pa",
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "moss_et_al_2006": {
                    "properties": {
                        "qc": {
                            "type": "number"
                        },
                        "fs": {
                            "type": "number"
                        },
                        "sigmav": {
                            "type": "number"
                        },
                        "sigmavp": {
                            "type": "number"
                        },
                        "depth": {
                            "type": "number"
                        },
                        "pa": {
                            "type": "number"
                        },
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "qc",
                        "fs",
                        "sigmav",
                        "sigmavp",
                        "depth",
                        "pa",
                        "weight"
                    ],
                    "additionalProperties": false
                },
                "ngl_smt_2024": {
                    "type": "object",
                    "properties": {
                        "ztop": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "zbot": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "qc1Ncs": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "Ic": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "sigmav": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "sigmavp": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "Ksat": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "pa": {
                            "type": "number"
                        },
                        "weight": {
                            "type": "number"
                        }
                    },
                    "required": [
                        "ztop",
                        "zbot",
                        "qc1Ncs",
                        "Ic",
                        "sigmav",
                        "sigmavp",
                        "Ksat",
                        "pa",
                        "weight"
                    ],
                    "additionalProperties": false
                }
            }
        },
        "output": {
            "type": "object",
            "properties": {
                "psha": {
                    "type": "object",
                    "properties": {
                        "pga": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "disaggregation": {
                            "type": "object",
                            "properties": {
                                "magnitude_bin_edges": {
                                    "type": "array",
                                    "items": {
                                        "type": "number"
                                    }
                                },
                                "distance_bin_edges": {
                                    "type": "array",
                                    "items": {
                                        "type": "number"
                                    }
                                },
                                "epsilon_bin_edges": {
                                    "type": "array",
                                    "items": {
                                        "type": "number"
                                    }
                                }
                            },
                            "required": [
                                "magnitude_bin_edges",
                                "distance_bin_edges",
                                "epsilon_bin_edges"
                            ],
                            "additionalProperties": false
                        }
                    }
                },
                "plha": {
                    "type": "object",
                    "properties": {
                        "fsl": {
                            "type": "array",
                            "items": {
                                "type": "number"
                            }
                        },
                        "disaggregation": {
                            "type": "object",
                            "properties": {
                                "magnitude_bin_edges": {
                                    "type": "array",
                                    "items": {
                                        "type": "number"
                                    }
                                },
                                "distance_bin_edges": {
                                    "type": "array",
                                    "items": {
                                        "type": "number"
                                    }
                                },
                                "epsilon_bin_edges": {
                                    "type": "array",
                                    "items": {
                                        "type": "number"
                                    }
                                }
                            },
                            "required": [
                                "magnitude_bin_edges",
                                "distance_bin_edges",
                                "epsilon_bin_edges"
                            ],
                            "additionalProperties": false
                        }
                    }
                },
                "outputfile": {
                    "type": "string"
                }
            }
        }
    }
}
